# Cloudflare Workers Configuration for Kinks AI Assistant
name = "kinks-ai-assistant"
main = "src/index.js"
compatibility_date = "2024-01-21"
workers_dev = true

# Account details (replace with your actual account ID)
account_id = "your_account_id_here"

# Routes configuration (uncomment and configure when deploying)
# routes = [
#   { pattern = "kinks.yourapp.com/*", zone_name = "yourapp.com" }
# ]

# KV Namespace for conversation history (server-side memory)
[[kv_namespaces]]
binding = "CHAT_HISTORY"
id = "your_kv_namespace_id"
preview_id = "your_preview_kv_namespace_id"

# Durable Objects (for WebSocket support if needed)
# [[durable_objects.bindings]]
# name = "KINKS_DO"
# class_name = "KinksDurableObject"

# Build configuration
[build]
command = "npm install && npm run build"

# Python compatibility via WASM
[assets]
directory = "./public"
binding = "ASSETS"

# Compatibility flags
compatibility_flags = ["nodejs_compat"]
